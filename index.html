<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>Calcular Claves</title>
		<script>
			var $numeroclave;
			var mensaje = true; 
			function test() {
				if(document.getElementById("txtpreclave").value=="")
				{
					alert('Debe Digitar la Pre-Clave');
				}
				else
				{
					var $dia;var $mes;var $preclave;
					$preclave=document.getElementById("txtpreclave").value;
					$preclave=parseInt($preclave);
					var hoy = new Date();
					$dia = hoy.getDate();
					$dia =parseInt($dia);
					var $tipo=document.getElementById('selectid').options[document.getElementById('selectid').selectedIndex].value;
					$tipo=parseInt($tipo);
				    var $puntos=document.getElementById('selectp').options[document.getElementById('selectp').selectedIndex].value;
				    $puntos=parseInt($puntos)
				    if($tipo==1){
				    	$numeroclave=($tipo*$dia*$puntos);
				    }
				    else{
				    	$numeroclave=($tipo*$dia*$preclave*$puntos);
				    }
				    document.getElementById("txtresultado").value = $numeroclave;
			   }
			}
			function copiaPortapapeles() {
 
				// Seleccionamos el texto que vamos a copiar
				document.getElementById("txtresultado").select();
				// Copiamos el texto al portapapeles de windows
				window.clipboardData.setData("Text", document.getElementById("txtresultado").value);
				// Si mensaje es true se ejecuta
				if (mensaje) {
					// Mostramos el mensaje de alerta
					alert('Texto copiado al portapapeles!!!');
				}
			}
				 
		</script>
		<style>
			#txtresultado{
				width:200px;
				background-color:green;
				color:white; padding:10px;
				text-align: center;
				font-size: 18px;
				margin: 15px;
			}
			#txtpreclave{
				width:200px;
				background-color:blue;
				color:white; padding:10px;
				text-align: center;
				font-size: 18px;
			}
			
		</style>
	</head>
	<body>
		<h2>HERRAMIENTA DE CALCULO</h2>
		<form>
			<fieldset>
				<legend style="width: 300px">Datos Para Calcular</legend>
				<br />
				<label>Tipo Anulacion</label>
				<select id="selectid">
					<option value="2">Anulacion</option>
					<option value="3">Devolucion</option>
					<option value="7">Descuentos</option>
					<option value="1">Factura Original</option>
					<option value="4">Cambiar Precios</option>
				</select>
				<br>
				<br>
				<label>Puntos</label>
				<select id="selectp">
					<option style="font-size: 10px" value="10006">CONCESIONARIO OLIMPICA NO.06</option>
					<option style="font-size: 10px" value="10007">ECONCESIONARIO OLIMPICA NO.07</option>
					<option style="font-size: 10px" value="13041">SURTIFARMA</option>
					<option style="font-size: 10px" value="4022">DROGAS LA ECONOMIA No 22</option>
					<option style="font-size: 10px" value="4023">DROGAS LA ECONOMIA No 23</option>
					<option style="font-size: 10px" value="4028">DROGAS LA ECONOMIA No 28</option>
					<option style="font-size: 10px" value="4032">DROGAS LA ECONOMIA No 32</option>
					<option style="font-size: 10px" value="4043">DROGAS LA ECONOMIA No 43</option>
					<option style="font-size: 10px" value="4044">DROGAS LA ECONOMIA No 44</option>
					<option style="font-size: 10px" value="4066">DROGAS LA ECONOMIA No 66</option>
					<option style="font-size: 10px" value="4067">DROGAS LA ECONOMIA No 67</option>
					<option style="font-size: 10px" value="4071">DROGAS LA ECONOMIA No 71</option>
					<option style="font-size: 10px" value="4097">DROGAS LA ECONOMIA NO 97</option>
					<option style="font-size: 10px" value="6008">drogas la economia no.608</option>
					<option style="font-size: 10px" value="6054">ECONOMIA 654 VILLATAREL</option>
				</select>
				<br>
				<br>
				<label>Ingrese la Preclave: </label>
				<input name="txtpreclave" type="text" id="txtpreclave" value="" autofocus/>
				<br>
				<br>
				<input 		style="font-size: 18px; margin-left: 120px" 
						  	type="button"
						  	value="Calcular"
						  	onclick="test()"
				/>
				<br> 
				<input name="txtresultado" type="text" id="txtresultado" value=""/>
				<input type="button"  value="Seleccionar" onclick="copiaPortapapeles()">
			</fieldset>
		</form>
	</body>
</html>